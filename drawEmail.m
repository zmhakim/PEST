% draws all email components

function drawEmail(w, h, subjectLine, sender, body, window,...
    emailCount, isAtt, attName)
% draw email box
Screen('DrawLine', window, [0 0 0], getPixels(w, 218),...
    getPixels(h, 130), getPixels(w, 1880), getPixels(h, 130), 1);
Screen('DrawLine', window, [0 0 0], getPixels(w, 218),...
    getPixels(h, 130), getPixels(w, 218), getPixels(h, 930), 1);
Screen('DrawLine', window, [0 0 0], getPixels(w, 1880),...
    getPixels(h, 130), getPixels(w, 1880), getPixels(h, 930), 1);
Screen('DrawLine', window, [0 0 0], getPixels(w, 218),...
    getPixels(h, 930), getPixels(w, 1880), getPixels(h, 930), 1);

% draw text components
DrawFormattedText(window, subjectLine, getPixels(w, 218),...
    getPixels(h, 114), [0 0 0], 100);
% draw email sender
DrawFormattedText(window, strcat('Sender <', sender, '>'),...
    getPixels(w, 262), getPixels(h, 160), [0 0 0], 100);
DrawFormattedText(window, 'to me', getPixels(w, 262),...
    getPixels(h, 182), [0 0 0], 100);
% draw email body
DrawFormattedText(window, body, getPixels(w, 262),...
    getPixels(h, 216), [0 0 0], 100, [], [], 1.25);
DrawFormattedText(window, 'Compose', getPixels(w, 30),...
    getPixels(h, 130), [255 51 51], 100);
DrawFormattedText(window, strcat('Inbox(', int2str(emailCount),...
    ')'), getPixels(w, 30), getPixels(h, 170), [0 0 0], 100);
DrawFormattedText(window, 'Starred', getPixels(w, 30),...
    getPixels(h, 210), [0 0 0], 100);
DrawFormattedText(window, 'Important', getPixels(w, 30),...
    getPixels(h, 250), [0 0 0], 100);
DrawFormattedText(window, 'Sent Mail', getPixels(w, 30),...
    getPixels(h, 290), [0 0 0], 100);
DrawFormattedText(window, 'Drafts', getPixels(w, 30),...
    getPixels(h, 330), [0 0 0], 100);
DrawFormattedText(window, 'More', getPixels(w, 30),...
    getPixels(h, 370), [0 0 0], 100);

% if attachment -> draw attachment box
if isAtt  
    Screen('DrawLine', window, [0 0 0], getPixels(w, 318),...
        getPixels(h, 790), getPixels(w, 1780), getPixels(h, 790), 1);
    DrawFormattedText(window, '1 Attachment', getPixels(w, 320),...
        getPixels(h, 815), [0 0 0]);
    Screen('DrawLine', window, [192 192 192], getPixels(w, 320),...
        getPixels(h, 835), getPixels(w, 620), getPixels(h, 835), 2);
    Screen('DrawLine', window, [192 192 192], getPixels(w, 320),...
        getPixels(h, 915), getPixels(w, 620), getPixels(h, 915), 2);
    Screen('DrawLine', window, [192 192 192], getPixels(w, 320),...
        getPixels(h, 835), getPixels(w, 320), getPixels(h, 915), 2);
    Screen('DrawLine', window, [192 192 192], getPixels(w, 620),...
        getPixels(h, 835), getPixels(w, 620), getPixels(h, 915), 2);
    Screen('DrawLine', window, [192 192 192], getPixels(w, 320),...
        getPixels(h, 880), getPixels(w, 620), getPixels(h, 880), 1);
    Screen('FillRect', window, [255 0 0], [getPixels(w, 325) ...
        getPixels(h, 885) getPixels(w, 375) getPixels(h, 910)]);
    DrawFormattedText(window, 'PDF', getPixels(w, 326),...
        getPixels(h, 906), [255 255 255], 100);
    DrawFormattedText(window, attName, getPixels(w, 380),...
        getPixels(h, 906), [0 0 0], 100);
end

% draw response options
Screen('FillRect', window, [0 0 0], [getPixels(w, 550) ...
    getPixels(h, 930) getPixels(w, 650) getPixels(h, 1000)]);
DrawFormattedText(window, '1', getPixels(w, 595),...
    getPixels(h, 970), [255 255 255], 100);
DrawFormattedText(window, 'Definitely Safe', getPixels(w, 530),...
    getPixels(h, 1032), [0 0 0], 100);
DrawFormattedText(window, '(Left Shift)', getPixels(w, 540),...
    getPixels(h, 1055), [0 0 0], 100);
Screen('FillRect', window, [0 0 0], [getPixels(w, 850) ...
    getPixels(h, 930) getPixels(w, 950) getPixels(h, 1000)]);
DrawFormattedText(window, '2', getPixels(w, 895),...
    getPixels(h, 970), [255 255 255], 100);
DrawFormattedText(window, 'Possibly Safe', getPixels(w, 830),...
    getPixels(h, 1032), [0 0 0], 100);
DrawFormattedText(window, '(Z)', getPixels(w, 880),...
    getPixels(h, 1055), [0 0 0], 100);
Screen('FillRect', window, [0 0 0], [getPixels(w, 1150) ...
    getPixels(h, 930) getPixels(w, 1250) getPixels(h, 1000)]);
DrawFormattedText(window, '3', getPixels(w, 1195),...
    getPixels(h, 970), [255 255 255], 100);
DrawFormattedText(window, 'Possibly Suspicious', getPixels(w, 1110),...
    getPixels(h, 1032), [0 0 0], 100);
DrawFormattedText(window, '(/)', getPixels(w, 1180),...
    getPixels(h, 1055), [0 0 0], 100);
Screen('FillRect', window, [0 0 0], [getPixels(w, 1450) ...
    getPixels(h, 930) getPixels(w, 1550) getPixels(h, 1000)]);
DrawFormattedText(window, '4', getPixels(w, 1495),...
    getPixels(h, 970), [255 255 255], 100);
DrawFormattedText(window, 'Definitely Suspicious', getPixels(w, 1410),...
    getPixels(h, 1032), [0 0 0], 100);
DrawFormattedText(window, '(Right Shift)', getPixels(w, 1450),...
    getPixels(h, 1055), [0 0 0], 100);
end